# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type ChatMessageEntity {
  id: String!
  chatId: String!
  message: String!
  senderId: String
  createdAt: DateTime!
  chat: ChatEntity!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type AdEntity {
  id: String!
  businessId: String!
  productId: String!
  price: Float!
  periodDays: Int!
  createdAt: DateTime!
  endedAt: DateTime
  business: BusinessEntity!
  product: ProductEntity!
}

type MediaEntity {
  id: String!
  url: String!
  type: String!
  productId: String!
  createdAt: DateTime!
  product: ProductEntity!
}

type PaymentTransactionEntity {
  id: String!
  orderId: String!
  status: String!
  method: String!
  amount: Float!
  transactionDate: DateTime!
  qrCode: String
  createdAt: DateTime!
  order: OrderEntity!
}

type OrderEntity {
  id: String!
  clientId: String!
  deliveryFee: Float!
  deliveryAddress: String
  qrCode: String
  createdAt: DateTime!
  updatedAt: DateTime!
  client: ClientEntity!
  products: [OrderProductEntity!]!
  payment: PaymentTransactionEntity
}

type OrderProductEntity {
  id: String!
  orderId: String!
  productId: String!
  quantity: Int!
  order: OrderEntity!
  product: ProductEntity!
}

type ReOwnedProductEntity {
  id: String!
  businessId: String!
  productId: String!
  oldOwnerId: String!
  oldPrice: Float!
  newPrice: Float!
  markupPercentage: Float!
  agreedViaChatId: String!
  createdAt: DateTime!
  business: BusinessEntity!
  product: ProductEntity!
  agreedViaChat: ChatEntity!
}

type RepostedProductEntity {
  id: String!
  businessId: String!
  productId: String!
  earnPercentage: Float!
  createdAt: DateTime!
  business: BusinessEntity!
  product: ProductEntity!
}

type ReviewEntity {
  id: String!
  clientId: String!
  productId: String!
  rating: Int!
  comment: String
  createdAt: DateTime!
  client: ClientEntity!
  product: ProductEntity!
}

type ProductEntity {
  id: String!
  title: String!
  description: String
  price: Float!
  stock: Int!
  category: String
  businessId: String!
  createdAt: DateTime!
  updatedAt: DateTime!
  medias: [MediaEntity!]!
  reviews: [ReviewEntity!]!
  orders: [OrderProductEntity!]!
  chats: [ChatEntity!]!
  reposts: [RepostedProductEntity!]!
  reowns: [ReOwnedProductEntity!]!
  ads: [AdEntity!]!
}

type WorkerEntity {
  id: String!
  email: String!
  fullName: String
  role: String
  phone: String
  password: String!
  businessId: String!
  createdAt: DateTime!
  updatedAt: DateTime!
  business: BusinessEntity!
  chats: [ChatEntity!]!
}

type ChatEntity {
  id: String!
  clientId: String!
  productId: String!
  businessId: String
  workerId: String
  status: String!
  createdAt: DateTime!
  updatedAt: DateTime!
  client: ClientEntity!
  product: ProductEntity!
  business: BusinessEntity
  worker: WorkerEntity
  messages: [ChatMessageEntity!]!
}

type FreelanceServiceEntity {
  id: String!
  title: String!
  description: String
  isHourly: Boolean!
  rate: Float!
  businessId: String!
  createdAt: DateTime!
  updatedAt: DateTime!
  business: BusinessEntity!
  orders: [FreelanceOrderEntity!]!
}

type FreelanceOrderEntity {
  id: String!
  clientId: String!
  serviceId: String!
  status: String!
  quantity: Int!
  totalAmount: Float!
  escrowAmount: Float!
  commissionPercent: Float!
  createdAt: DateTime!
  updatedAt: DateTime!
  client: ClientEntity!
  service: FreelanceServiceEntity!
  businesses: [BusinessEntity!]!
}

type ClientEntity {
  id: String!
  username: String!
  email: String!
  fullName: String
  address: String
  phone: String
  password: String!
  isVerified: Boolean!
  createdAt: DateTime!
  updatedAt: DateTime!
  orders: [OrderEntity!]!
  reviews: [ReviewEntity!]!
  chats: [ChatEntity!]!
  recharges: [AccountRechargeEntity!]!
  freelanceOrders: [FreelanceOrderEntity!]!
  referralsMade: [ReferralEntity!]!
  referralsReceived: [ReferralEntity!]!
}

type AccountRechargeEntity {
  id: String!
  amount: Float!
  method: String!
  origin: String!
  businessId: String
  clientId: String
  createdAt: DateTime!
  business: BusinessEntity
  client: ClientEntity
}

type PostOfSaleEntity {
  id: String!
  title: String!
  description: String
  price: Float!
  status: String!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type BusinessEntity {
  id: String!
  name: String!
  email: String!
  description: String
  address: String
  phone: String
  avatar: String
  coverImage: String
  password: String!
  isVerified: Boolean!
  createdAt: DateTime!
  updatedAt: DateTime!
  products: [ProductEntity!]!
  workers: [WorkerEntity!]!
  repostedItems: [RepostedProductEntity!]!
  reownedItems: [ReOwnedProductEntity!]!
  recharges: [AccountRechargeEntity!]!
  ads: [AdEntity!]!
  freelanceServices: [FreelanceServiceEntity!]!
  freelanceOrders: [FreelanceOrderEntity!]!
  referralsMade: [ReferralEntity!]!
  referralsReceived: [ReferralEntity!]!
  chats: [ChatEntity!]!
  postOfSales: [PostOfSaleEntity!]
}

type ReferralEntity {
  id: String!
  affiliateBusinessId: String
  affiliateClientId: String
  referredBusinessId: String
  referredClientId: String
  verifiedPurchase: Boolean!
  createdAt: DateTime!
  affiliateBusiness: BusinessEntity
  affiliateClient: ClientEntity
  referredBusiness: BusinessEntity
  referredClient: ClientEntity
}

type AuthPayloadClient {
  id: String!
  email: String!
  fullname: String!
  phone: String!
  avatar: String
  accessToken: String!
  refreshToken: String!
}

type AuthPayloadBusiness {
  id: String!
  email: String!
  name: String!
  phone: String!
  avatar: String
  coverImage: String
  accessToken: String!
  refreshToken: String!
}

type Query {
  """Retrieves all businesses with their relations."""
  businesses: [BusinessEntity!]!

  """Retrieves a single business by ID."""
  business(id: String!): BusinessEntity!

  """Retrieves all clients with their relations."""
  clients: [ClientEntity!]!

  """Retrieves a single client by ID."""
  client(id: String!): ClientEntity!
  postOfSale(id: Int!): PostOfSaleEntity!
}

type Mutation {
  """Creates a new business with hashed password."""
  createBusiness(createBusinessInput: CreateBusinessInput!): BusinessEntity!

  """Updates a business’s details."""
  updateBusiness(id: String!, updateBusinessInput: UpdateBusinessInput!): BusinessEntity!

  """Deletes a business."""
  deleteBusiness(id: String!): BusinessEntity!

  """Creates a new client with hashed password."""
  createClient(createClientInput: CreateClientInput!): ClientEntity!

  """Updates a client’s details."""
  updateClient(id: String!, updateClientInput: UpdateClientInput!): ClientEntity!

  """Deletes a client."""
  deleteClient(id: String!): ClientEntity!
  signIn(SignInInput: SignInInput!): AuthPayloadClient!
  signBusinessIn(SignInInput: SignInInput!): AuthPayloadBusiness!
  refreshToken(refreshToken: String!): AuthPayloadClient!
  createPostOfSale(createPostOfSaleInput: CreatePostOfSaleInput!): PostOfSaleEntity!
  updatePostOfSale(updatePostOfSaleInput: UpdatePostOfSaleInput!): PostOfSaleEntity!
  removePostOfSale(id: Int!): PostOfSaleEntity!
}

input CreateBusinessInput {
  name: String!
  email: String!
  description: String
  avatar: String
  coverImage: String
  address: String
  phone: String
  password: String!
  isVerified: Boolean! = false
}

input UpdateBusinessInput {
  name: String
  email: String
  description: String
  avatar: String
  coverImage: String
  address: String
  phone: String
  password: String
  isVerified: Boolean = false
  id: Int!
  kycId: String
}

input CreateClientInput {
  username: String!
  email: String!
  fullName: String
  address: String
  phone: String
  password: String!
  isVerified: Boolean!
}

input UpdateClientInput {
  username: String
  email: String
  fullName: String
  address: String
  phone: String
  password: String
  isVerified: Boolean
  id: Int!
  kycId: String
}

input SignInInput {
  email: String!
  password: String!
}

input CreatePostOfSaleInput {
  """Example field (placeholder)"""
  exampleField: Int!
}

input UpdatePostOfSaleInput {
  """Example field (placeholder)"""
  exampleField: Int
  id: Int!
}